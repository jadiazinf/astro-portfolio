import{j as Y,p}from"./utils.Ci7rUgqW.js";import{p as Vt}from"./index.DBCfEmck.js";import{P as Wt,j as at,Q as jt,R as Kt,T as qt,U as zt,V as Ht,W as Yt,X as Zt,Y as Xt,g as Gt,Z as Jt,_ as Qt,$ as $t,A,a0 as ut,a1 as te,z as h,C as m,a2 as k,y as z,B as vt,D as H,h as ee,u as G,s as b,v as ne,w as ct,x as re,I as ie,k as C,m as S,n as T,a as E,o as I,F as N,a3 as se,J as oe}from"./template.CT3fyaAz.js";import"./async.Bl16-LZK.js";import{s as x}from"./snippet.BrtRqP9F.js";import{i as yt}from"./if.BUV4IJrD.js";import{c as ae,m as ue,u as ce}from"./render.ay8f7T2c.js";function le(){return Symbol(Wt)}function fe(n,t,e){at&&jt();var r=n,i=Qt,o,s,a=null,u=Kt()?qt:zt;function c(){o&&$t(o),a!==null&&(a.lastChild.remove(),r.before(a),a=null),o=s}Ht(()=>{if(u(i,i=t())){var d=r,l=Yt();l&&(a=document.createDocumentFragment(),a.append(d=Zt())),s=Xt(()=>e(d)),l?Gt.add_callback(c):c()}}),at&&(r=Jt)}class de extends Map{#t=new Map;#e=A(0);#n=A(0);#r=ut||-1;constructor(t){if(super(),t){for(var[e,r]of t)super.set(e,r);this.#n.v=super.size}}#i(t){return ut===this.#r?A(t):te(t)}has(t){var e=this.#t,r=e.get(t);if(r===void 0){var i=super.get(t);if(i!==void 0)r=this.#i(0),e.set(t,r);else return h(this.#e),!1}return h(r),!0}forEach(t,e){this.#s(),super.forEach(t,e)}get(t){var e=this.#t,r=e.get(t);if(r===void 0){var i=super.get(t);if(i!==void 0)r=this.#i(0),e.set(t,r);else{h(this.#e);return}}return h(r),super.get(t)}set(t,e){var r=this.#t,i=r.get(t),o=super.get(t),s=super.set(t,e),a=this.#e;if(i===void 0)i=this.#i(0),r.set(t,i),m(this.#n,super.size),k(a);else if(o!==e){k(i);var u=a.reactions===null?null:new Set(a.reactions),c=u===null||!i.reactions?.every(d=>u.has(d));c&&k(a)}return s}delete(t){var e=this.#t,r=e.get(t),i=super.delete(t);return r!==void 0&&(e.delete(t),m(this.#n,super.size),m(r,-1),k(this.#e)),i}clear(){if(super.size!==0){super.clear();var t=this.#t;m(this.#n,0);for(var e of t.values())m(e,-1);k(this.#e),t.clear()}}#s(){h(this.#e);var t=this.#t;if(this.#n.v!==t.size){for(var e of super.keys())if(!t.has(e)){var r=this.#i(0);t.set(e,r)}}for([,r]of this.#t)h(r)}keys(){return h(this.#e),super.keys()}values(){return this.#s(),super.values()}entries(){return this.#s(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return h(this.#n),super.size}}function he(n){return typeof n=="function"}function M(n){return n!==null&&typeof n=="object"}const pe=["string","number","bigint","boolean"];function J(n){return n==null||pe.includes(typeof n)?!0:Array.isArray(n)?n.every(t=>J(t)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const V=Symbol("box"),wt=Symbol("is-writable");function f(n,t){const e=z(n);return t?{[V]:!0,[wt]:!0,get current(){return h(e)},set current(r){t(r)}}:{[V]:!0,get current(){return n()}}}function St(n){return M(n)&&V in n}function Yn(n){return St(n)?n:he(n)?f(n):tt(n)}function tt(n){let t=A(vt(n));return{[V]:!0,[wt]:!0,get current(){return h(t)},set current(e){m(t,e,!0)}}}function Tt(...n){return function(t){for(const e of n)if(e){if(t.defaultPrevented)return;typeof e=="function"?e.call(this,t):e.current?.call(this,t)}}}const me=/\d/,be=["-","_","/","."];function ge(n=""){if(!me.test(n))return n!==n.toLowerCase()}function ve(n){const t=[];let e="",r,i;for(const o of n){const s=be.includes(o);if(s===!0){t.push(e),e="",r=void 0;continue}const a=ge(o);if(i===!1){if(r===!1&&a===!0){t.push(e),e=o,r=a;continue}if(r===!0&&a===!1&&e.length>1){const u=e.at(-1);t.push(e.slice(0,Math.max(0,e.length-1))),e=u+o,r=a;continue}}e+=o,r=a,i=s}return t.push(e),t}function Et(n){return n?ve(n).map(t=>we(t)).join(""):""}function ye(n){return Se(Et(n||""))}function we(n){return n?n[0].toUpperCase()+n.slice(1):""}function Se(n){return n?n[0].toLowerCase()+n.slice(1):""}function R(n){if(!n)return{};const t={};function e(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){t[Et(r)]=i;return}if(r.startsWith("--")){t[r]=i;return}t[ye(r)]=i}return Vt(n,e),t}function O(...n){return(...t)=>{for(const e of n)typeof e=="function"&&e(...t)}}function Te(n,t){const e=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(e)?r.replace(e,t):r}}const Ee=Te(/[A-Z]/,n=>`-${n.toLowerCase()}`);function Ae(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(t=>`${Ee(t)}: ${n[t]};`).join(`
`)}function Ce(n={}){return Ae(n).replace(`
`," ")}const Ie=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],Ne=new Set(Ie);function xe(n){return Ne.has(n)}function Zn(...n){const t={...n[0]};for(let e=1;e<n.length;e++){const r=n[e];if(r){for(const i of Object.keys(r)){const o=t[i],s=r[i],a=typeof o=="function",u=typeof s=="function";if(a&&xe(i)){const c=o,d=s;t[i]=Tt(c,d)}else if(a&&u)t[i]=O(o,s);else if(i==="class"){const c=J(o),d=J(s);c&&d?t[i]=Y(o,s):c?t[i]=Y(o):d&&(t[i]=Y(s))}else if(i==="style"){const c=typeof o=="object",d=typeof s=="object",l=typeof o=="string",y=typeof s=="string";if(c&&d)t[i]={...o,...s};else if(c&&y){const w=R(s);t[i]={...o,...w}}else if(l&&d){const w=R(o);t[i]={...w,...s}}else if(l&&y){const w=R(o),Ut=R(s);t[i]={...w,...Ut}}else c?t[i]=o:d?t[i]=s:l?t[i]=o:y&&(t[i]=s)}else t[i]=s!==void 0?s:o}for(const i of Object.getOwnPropertySymbols(r)){const o=t[i],s=r[i];t[i]=s!==void 0?s:o}}}return typeof t.style=="object"&&(t.style=Ce(t.style).replaceAll(`
`," ")),t.hidden===!1&&(t.hidden=void 0,delete t.hidden),t.disabled===!1&&(t.disabled=void 0,delete t.disabled),t}function L(n){H(()=>()=>{n()})}function Oe(n,t){return setTimeout(t,n)}function et(n){ee().then(n)}const Pe=1,ke=9,Fe=11;function Q(n){return M(n)&&n.nodeType===Pe&&typeof n.nodeName=="string"}function At(n){return M(n)&&n.nodeType===ke}function De(n){return M(n)&&n.constructor?.name==="VisualViewport"}function Me(n){return M(n)&&n.nodeType!==void 0}function Ct(n){return Me(n)&&n.nodeType===Fe&&"host"in n}function Le(n,t){if(!n||!t||!Q(n)||!Q(t))return!1;const e=t.getRootNode?.();if(n===t||n.contains(t))return!0;if(e&&Ct(e)){let r=t;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function Re(n){return At(n)?n:De(n)?n.document:n?.ownerDocument??document}function _e(n){return Ct(n)?_e(n.host):At(n)?n.defaultView??window:Q(n)?n.ownerDocument?.defaultView??window:window}function Be(n){let t=n.activeElement;for(;t?.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}class It{element;#t=z(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return h(this.#t)}set root(t){m(this.#t,t)}constructor(t){typeof t=="function"?this.element=f(t):this.element=t}getDocument=()=>Re(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>Be(this.root);isActiveElement=t=>t===this.getActiveElement();getElementById(t){return this.root.getElementById(t)}querySelector=t=>this.root?this.root.querySelector(t):null;querySelectorAll=t=>this.root?this.root.querySelectorAll(t):[];setTimeout=(t,e)=>this.getWindow().setTimeout(t,e);clearTimeout=t=>this.getWindow().clearTimeout(t)}function Xn(n,t){return{[le()]:e=>St(n)?(n.current=e,G(()=>t?.(e)),()=>{"isConnected"in e&&e.isConnected||(n.current=null,t?.(null))}):(n(e),G(()=>t?.(e)),()=>{"isConnected"in e&&e.isConnected||(n(null),t?.(null))})}}const Ue=typeof window<"u"?window:void 0;function Ve(n){let t=n.activeElement;for(;t?.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}class We{#t;#e;constructor(t={}){const{window:e=Ue,document:r=e?.document}=t;e!==void 0&&(this.#t=r,this.#e=ae(i=>{const o=b(e,"focusin",i),s=b(e,"focusout",i);return()=>{o(),s()}}))}get current(){return this.#e?.(),this.#t?Ve(this.#t):null}}new We;class je{#t;#e;constructor(t){this.#t=t,this.#e=Symbol(t)}get key(){return this.#e}exists(){return ne(this.#e)}get(){const t=ct(this.#e);if(t===void 0)throw new Error(`Context "${this.#t}" not found`);return t}getOr(t){const e=ct(this.#e);return e===void 0?t:e}set(t){return re(this.#e,t)}}function Ke(n,t){switch(n){case"post":H(t);break;case"pre":ie(t);break}}function Nt(n,t,e,r={}){const{lazy:i=!1}=r;let o=!i,s=Array.isArray(n)?[]:void 0;Ke(t,()=>{const a=Array.isArray(n)?n.map(c=>c()):n();if(!o){o=!0,s=a;return}const u=G(()=>e(a,s));return s=a,u})}function v(n,t,e){Nt(n,"post",t,e)}function qe(n,t,e){Nt(n,"pre",t,e)}v.pre=qe;class ze{#t=A(void 0);constructor(t,e){e!==void 0&&m(this.#t,e,!0),v(()=>t(),(r,i)=>{m(this.#t,i,!0)})}get current(){return h(this.#t)}}function Gn(n){return n?"true":"false"}function Jn(n){return n?"open":"closed"}class He{#t;#e;attrs;constructor(t){this.#t=t.getVariant?t.getVariant():null,this.#e=this.#t?`data-${this.#t}-`:`data-${t.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(t.parts.map(e=>[e,this.getAttr(e)]))}getAttr(t,e){return e?`data-${e}-${t}`:`${this.#e}${t}`}selector(t,e){return`[${this.getAttr(t,e)}]`}}function Qn(n){const t=new He(n);return{...t.attrs,selector:t.selector,getAttr:t.getAttr}}const $n="Enter",Ye="Escape",tr=" ",xt=typeof document<"u",lt=Ze();function Ze(){return xt&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function ft(n){return n instanceof HTMLElement}function Xe(n){return n instanceof Element}function er(n){return n!==null}function g(){}function nr(n,t){return`bits-${n}`}class Ge{state;#t;constructor(t,e){this.state=tt(t),this.#t=e,this.dispatch=this.dispatch.bind(this)}#e(t){return this.#t[this.state.current][t]??this.state.current}dispatch(t){this.state.current=this.#e(t)}}const Je={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};class Qe{opts;#t=A("none");get prevAnimationNameState(){return h(this.#t)}set prevAnimationNameState(t){m(this.#t,t,!0)}#e=A(vt({}));get styles(){return h(this.#e)}set styles(t){m(this.#e,t,!0)}initialStatus;previousPresent;machine;present;constructor(t){this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new ze(()=>this.present.current),this.machine=new Ge(this.initialStatus,Je),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),$e(this),tn(this),en(this)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=W(this.opts.ref.current),r=e.includes(t.animationName)||e==="none";t.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=W(this.opts.ref.current))}#n=z(()=>["mounted","unmountSuspended"].includes(this.machine.state.current));get isPresent(){return h(this.#n)}set isPresent(t){m(this.#n,t)}}function $e(n){v(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const e=n.prevAnimationNameState,r=W(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const i=e!==r;n.previousPresent.current&&i?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function tn(n){v(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const t=W(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?t:"none"})}function en(n){v(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),O(b(n.opts.ref.current,"animationstart",n.handleAnimationStart),b(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),b(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function W(n){return n&&getComputedStyle(n).animationName||"none"}function rr(n,t){C(t,!0);const e=new Qe({open:f(()=>t.open),ref:t.ref});var r=S(),i=T(r);{var o=s=>{var a=S(),u=T(a);x(u,()=>t.presence??N,()=>({present:e.isPresent})),E(s,a)};yt(i,s=>{(t.forceMount||t.open||e.isPresent)&&s(o)})}E(n,r),I()}class nn{#t;#e=void 0;#n=!1;constructor(t){this.#t=t,L(()=>this.#r())}#r(){this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=void 0),this.#n=!1}run(t){if(this.#n)return;this.#r(),this.#n=!0;const e=this.#t.ref.current;if(!e){this.#n=!1;return}if(typeof e.getAnimations!="function"){this.#i(t);return}this.#e=window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){this.#i(t);return}Promise.allSettled(r.map(i=>i.finished)).then(()=>{this.#i(t)})})}#i(t){const e=()=>{t(),this.#n=!1};this.#t.afterTick?et(e):e()}}class ir{#t;#e;#n;constructor(t){this.#t=t,this.#e=t.enabled??!0,this.#n=new nn({ref:this.#t.ref,afterTick:this.#t.open}),v([()=>this.#t.open.current],([e])=>{this.#e&&this.#n.run(()=>{e===this.#t.open.current&&this.#t.onComplete()})})}}function rn(n,t){var e=S(),r=T(e);fe(r,()=>t.children,i=>{var o=S(),s=T(o);x(s,()=>t.children??N),E(i,o)}),E(n,e)}const sn=new je("BitsConfig");function on(){const n=new an(null,{});return sn.getOr(n).opts}class an{opts;constructor(t,e){const r=un(t,e);this.opts={defaultPortalTo:r(i=>i.defaultPortalTo),defaultLocale:r(i=>i.defaultLocale)}}}function un(n,t){return e=>f(()=>{const i=e(t)?.current;if(i!==void 0)return i;if(n!==null)return e(n.opts)?.current})}function cn(n,t){return e=>{const r=on();return f(()=>{const i=e();if(i!==void 0)return i;const o=n(r).current;return o!==void 0?o:t})}}const ln=cn(n=>n.defaultPortalTo,"body");function sr(n,t){C(t,!0);const e=ln(()=>t.to),r=se();let i=z(o);function o(){if(!xt||t.disabled)return null;let l=null;return typeof e.current=="string"?l=document.querySelector(e.current):l=e.current,l}let s;function a(){s&&(ce(s),s=null)}v([()=>h(i),()=>t.disabled],([l,y])=>{if(!l||y){a();return}return s=ue(rn,{target:l,props:{children:t.children},context:r}),()=>{a()}});var u=S(),c=T(u);{var d=l=>{var y=S(),w=T(y);x(w,()=>t.children??N),E(l,y)};yt(c,l=>{t.disabled&&l(d)})}E(n,u),I()}function dt(n,t=500){let e=null;const r=(...i)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...i)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function Ot(n,t){return n===t||n.contains(t)}function Pt(n){return n?.ownerDocument??document}function fn(n,t){const{clientX:e,clientY:r}=n,i=t.getBoundingClientRect();return e<i.left||e>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??=new Map;class nt{static create(t){return new nt(t)}opts;#t;#e;#n={pointerdown:!1};#r=!1;#i=!1;#s=void 0;#c;#o=g;constructor(t){this.opts=t,this.#e=t.interactOutsideBehavior,this.#t=t.onInteractOutside,this.#c=t.onFocusOutside,H(()=>{this.#s=Pt(this.opts.ref.current)});let e=g;const r=()=>{this.#d(),globalThis.bitsDismissableLayers.delete(this),this.#a.destroy(),e()};v([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Oe(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#e),e(),e=this.#l())}),r}),L(()=>{this.#d.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#a.destroy(),this.#o(),e()})}#f=t=>{t.defaultPrevented||this.opts.ref.current&&et(()=>{!this.opts.ref.current||this.#b(t.target)||t.target&&!this.#i&&this.#c.current?.(t)})};#l(){return O(b(this.#s,"pointerdown",O(this.#h,this.#m),{capture:!0}),b(this.#s,"pointerdown",O(this.#p,this.#a)),b(this.#s,"focusin",this.#f))}#u=t=>{let e=t;e.defaultPrevented&&(e=ht(t)),this.#t.current(t)};#a=dt(t=>{if(!this.opts.ref.current){this.#o();return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||pn(t,this.opts.ref.current);if(!this.#r||this.#g()||!e){this.#o();return}let r=t;if(r.defaultPrevented&&(r=ht(r)),this.#e.current!=="close"&&this.#e.current!=="defer-otherwise-close"){this.#o();return}t.pointerType==="touch"?(this.#o(),this.#o=b(this.#s,"click",this.#u,{once:!0})):this.#t.current(r)},10);#h=t=>{this.#n[t.type]=!0};#p=t=>{this.#n[t.type]=!1};#m=()=>{this.opts.ref.current&&(this.#r=hn(this.opts.ref.current))};#b=t=>this.opts.ref.current?Ot(this.opts.ref.current,t):!1;#d=dt(()=>{for(const t in this.#n)this.#n[t]=!1;this.#r=!1},20);#g(){return Object.values(this.#n).some(Boolean)}#v=()=>{this.#i=!0};#y=()=>{this.#i=!1};props={onfocuscapture:this.#v,onblurcapture:this.#y}}function dn(n=[...globalThis.bitsDismissableLayers]){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function hn(n){const t=[...globalThis.bitsDismissableLayers],e=dn(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function pn(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return Xe(e)?Pt(e).documentElement.contains(e)&&!Ot(t,e)&&fn(n,t):!1}function ht(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(s,a)=>a==="currentTarget"?t:a==="target"?e:a==="preventDefault"?()=>{i=!0,typeof s.preventDefault=="function"&&s.preventDefault()}:a==="defaultPrevented"?i:a in s?s[a]:n[a]})}function or(n,t){C(t,!0);let e=p(t,"interactOutsideBehavior",3,"close"),r=p(t,"onInteractOutside",3,g),i=p(t,"onFocusOutside",3,g),o=p(t,"isValidEvent",3,()=>!1);const s=nt.create({id:f(()=>t.id),interactOutsideBehavior:f(()=>e()),onInteractOutside:f(()=>r()),enabled:f(()=>t.enabled),onFocusOutside:f(()=>i()),isValidEvent:f(()=>o()),ref:t.ref});var a=S(),u=T(a);x(u,()=>t.children??N,()=>({props:s.props})),E(n,a),I()}globalThis.bitsEscapeLayers??=new Map;class rt{static create(t){return new rt(t)}opts;domContext;constructor(t){this.opts=t,this.domContext=new It(this.opts.ref);let e=g;v(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=this.#t()),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}#t=()=>b(this.domContext.getDocument(),"keydown",this.#e,{passive:!1});#e=t=>{if(t.key!==Ye||!mn(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)}}function mn(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([i,{current:o}])=>o==="close"||o==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function ar(n,t){C(t,!0);let e=p(t,"escapeKeydownBehavior",3,"close"),r=p(t,"onEscapeKeydown",3,g);rt.create({escapeKeydownBehavior:f(()=>e()),onEscapeKeydown:f(()=>r()),enabled:f(()=>t.enabled),ref:t.ref});var i=S(),o=T(i);x(o,()=>t.children??N),E(n,i),I()}class it{static instance;#t=tt([]);#e=new WeakMap;#n=new WeakMap;static getInstance(){return this.instance||(this.instance=new it),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause();const r=document.activeElement;r&&r!==document.body&&this.#n.set(t,r),this.#t.current=this.#t.current.filter(i=>i!==t),this.#t.current.unshift(t)}unregister(t){this.#t.current=this.#t.current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return this.#t.current[0]}setFocusMemory(t,e){this.#e.set(t,e)}getFocusMemory(t){return this.#e.get(t)}isActiveScope(t){return this.getActive()===t}setPreFocusMemory(t,e){this.#n.set(t,e)}getPreFocusMemory(t){return this.#n.get(t)}clearPreFocusMemory(t){this.#n.delete(t)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var kt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$=kt.join(","),Ft=typeof Element>"u",P=Ft?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,j=!Ft&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n?.ownerDocument},K=function n(t,e){var r;e===void 0&&(e=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",s=o||e&&t&&n(t.parentNode);return s},bn=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},Dt=function(t,e,r){if(K(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll($));return e&&P.call(t,$)&&i.unshift(t),i=i.filter(r),i},Mt=function n(t,e,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!K(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),u=a.length?a:s.children,c=n(u,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:s,candidates:c})}else{var d=P.call(s,$);d&&r.filter(s)&&(e||!t.includes(s))&&i.push(s);var l=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),y=!K(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(l&&y){var w=n(l===!0?s.children:l.children,!0,r);r.flatten?i.push.apply(i,w):i.push({scopeParent:s,candidates:w})}else o.unshift.apply(o,s.children)}}return i},Lt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Rt=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||bn(t))&&!Lt(t)?0:t.tabIndex},gn=function(t,e){var r=Rt(t);return r<0&&e&&!Lt(t)?0:r},vn=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},_t=function(t){return t.tagName==="INPUT"},yn=function(t){return _t(t)&&t.type==="hidden"},wn=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},Sn=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},Tn=function(t){if(!t.name)return!0;var e=t.form||j(t),r=function(a){return e.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Sn(i,t.form);return!o||o===t},En=function(t){return _t(t)&&t.type==="radio"},An=function(t){return En(t)&&!Tn(t)},Cn=function(t){var e,r=t&&j(t),i=(e=r)===null||e===void 0?void 0:e.host,o=!1;if(r&&r!==t){var s,a,u;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!o&&i;){var c,d,l;r=j(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((d=i)!==null&&d!==void 0&&(l=d.ownerDocument)!==null&&l!==void 0&&l.contains(i))}}return o},pt=function(t){var e=t.getBoundingClientRect(),r=e.width,i=e.height;return r===0&&i===0},In=function(t,e){var r=e.displayCheck,i=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=P.call(t,"details>summary:first-of-type"),s=o?t.parentElement:t;if(P.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var u=t.parentElement,c=j(t);if(u&&!u.shadowRoot&&i(u)===!0)return pt(t);t.assignedSlot?t=t.assignedSlot:!u&&c!==t.ownerDocument?t=c.host:t=u}t=a}if(Cn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return pt(t);return!1},Nn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var i=e.children.item(r);if(i.tagName==="LEGEND")return P.call(e,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}e=e.parentElement}return!1},q=function(t,e){return!(e.disabled||K(e)||yn(e)||In(e,t)||wn(e)||Nn(e))},mt=function(t,e){return!(An(e)||Rt(e)<0||!q(t,e))},xn=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},On=function n(t){var e=[],r=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,u=gn(a,s),c=s?n(i.candidates):a;u===0?s?e.push.apply(e,c):e.push(a):r.push({documentOrder:o,tabIndex:u,item:i,isScope:s,content:c})}),r.sort(vn).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(e)},Pn=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Mt([t],e.includeContainer,{filter:mt.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:xn}):r=Dt(t,e.includeContainer,mt.bind(null,e)),On(r)},kn=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Mt([t],e.includeContainer,{filter:q.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=Dt(t,e.includeContainer,q.bind(null,e)),r},Fn=kt.concat("iframe").join(","),Dn=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return P.call(t,Fn)===!1?!1:q(e,t)};class st{#t=!1;#e=null;#n=it.getInstance();#r=[];#i;constructor(t){this.#i=t}get paused(){return this.#t}pause(){this.#t=!0}resume(){this.#t=!1}#s(){for(const t of this.#r)t();this.#r=[]}mount(t){this.#e&&this.unmount(),this.#e=t,this.#n.register(this),this.#f(),this.#c()}unmount(){this.#e&&(this.#s(),this.#o(),this.#n.unregister(this),this.#n.clearPreFocusMemory(this),this.#e=null)}#c(){if(!this.#e)return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#i.onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!this.#e)return;const e=this.#u();e?(e.focus(),this.#n.setFocusMemory(this,e)):this.#e.focus()})}#o(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#i.onCloseAutoFocus.current?.(t),!t.defaultPrevented){const e=this.#n.getPreFocusMemory(this);if(e&&document.contains(e))try{e.focus()}catch{document.body.focus()}}}#f(){if(!this.#e||!this.#i.trap.current)return;const t=this.#e,e=t.ownerDocument,r=s=>{if(this.#t||!this.#n.isActiveScope(this))return;const a=s.target;if(!a)return;if(t.contains(a))this.#n.setFocusMemory(this,a);else{const c=this.#n.getFocusMemory(this);if(c&&t.contains(c)&&Dn(c))s.preventDefault(),c.focus();else{const d=this.#u(),l=this.#a()[0];(d||l||t).focus()}}},i=s=>{if(!this.#i.loop||this.#t||s.key!=="Tab"||!this.#n.isActiveScope(this))return;const a=this.#l();if(a.length<2)return;const u=a[0],c=a[a.length-1];!s.shiftKey&&e.activeElement===c?(s.preventDefault(),u.focus()):s.shiftKey&&e.activeElement===u&&(s.preventDefault(),c.focus())};this.#r.push(b(e,"focusin",r,{capture:!0}),b(t,"keydown",i));const o=new MutationObserver(()=>{const s=this.#n.getFocusMemory(this);if(s&&!t.contains(s)){const a=this.#u(),u=this.#a()[0],c=a||u;c?(c.focus(),this.#n.setFocusMemory(this,c)):t.focus()}});o.observe(t,{childList:!0,subtree:!0}),this.#r.push(()=>o.disconnect())}#l(){return this.#e?Pn(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}#u(){return this.#l()[0]||null}#a(){return this.#e?kn(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}static use(t){let e=null;return v([()=>t.ref.current,()=>t.enabled.current],([r,i])=>{r&&i?(e||(e=new st(t)),e.mount(r)):e&&(e.unmount(),e=null)}),L(()=>{e?.unmount()}),{get props(){return{tabindex:-1}}}}}function ur(n,t){C(t,!0);let e=p(t,"enabled",3,!1),r=p(t,"trapFocus",3,!1),i=p(t,"loop",3,!1),o=p(t,"onCloseAutoFocus",3,g),s=p(t,"onOpenAutoFocus",3,g);const a=st.use({enabled:f(()=>e()),trap:f(()=>r()),loop:i(),onCloseAutoFocus:f(()=>o()),onOpenAutoFocus:f(()=>s()),ref:t.ref});var u=S(),c=T(u);x(c,()=>t.focusScope??N,()=>({props:a.props})),E(n,u),I()}globalThis.bitsTextSelectionLayers??=new Map;class ot{static create(t){return new ot(t)}opts;domContext;#t=g;constructor(t){this.opts=t,this.domContext=new It(t.ref);let e=g;v(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=this.#e()),()=>{e(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#e(){return O(b(this.domContext.getDocument(),"pointerdown",this.#n),b(this.domContext.getDocument(),"pointerup",Tt(this.#r,this.opts.onPointerUp.current)))}#n=t=>{const e=this.opts.ref.current,r=t.target;!ft(e)||!ft(r)||!this.opts.enabled.current||!Ln(this)||!Le(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&(this.#t=Mn(e,this.domContext.getDocument().body)))};#r=()=>{this.#t(),this.#t=g}}const bt=n=>n.style.userSelect||n.style.webkitUserSelect;function Mn(n,t){const e=bt(t),r=bt(n);return _(t,"none"),_(n,"text"),()=>{_(t,e),_(n,r)}}function _(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function Ln(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function cr(n,t){C(t,!0);let e=p(t,"preventOverflowTextSelection",3,!0),r=p(t,"onPointerDown",3,g),i=p(t,"onPointerUp",3,g);ot.create({id:f(()=>t.id),onPointerDown:f(()=>r()),onPointerUp:f(()=>i()),enabled:f(()=>t.enabled&&e()),ref:t.ref});var o=S(),s=T(o);x(s,()=>t.children??N),E(n,o),I()}globalThis.bitsIdCounter??={current:0};function Rn(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}class _n{#t;#e=0;#n=A();#r;constructor(t){this.#t=t}#i(){this.#e-=1,this.#r&&this.#e<=0&&(this.#r(),m(this.#n,void 0),this.#r=void 0)}get(...t){return this.#e+=1,h(this.#n)===void 0&&(this.#r=oe(()=>{m(this.#n,this.#t(...t),!0)})),H(()=>()=>{this.#i()}),h(this.#n)}}const U=new de;let B=A(null),Z=null,F=null,D=!1;const gt=f(()=>{for(const n of U.values())if(n)return!0;return!1});let X=null;const Bn=new _n(()=>{function n(){document.body.setAttribute("style",h(B)??""),document.body.style.removeProperty("--scrollbar-width"),lt&&Z?.(),m(B,null)}function t(){F!==null&&(window.clearTimeout(F),F=null)}function e(i,o){t(),D=!0,X=Date.now();const s=X,a=()=>{F=null,X===s&&(Bt(U)?D=!1:(D=!1,o()))},u=i===null?24:i;F=window.setTimeout(a,u)}function r(){h(B)===null&&U.size===0&&!D&&m(B,document.body.getAttribute("style"),!0)}return v(()=>gt.current,()=>{if(!gt.current)return;r(),D=!1;const i=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,a={padding:Number.parseInt(i.paddingRight??"0",10)+o,margin:Number.parseInt(i.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${a.padding}px`,document.body.style.marginRight=`${a.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),lt&&(Z=b(document,"touchmove",u=>{u.target===document.documentElement&&(u.touches.length>1||u.preventDefault())},{passive:!1})),et(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),L(()=>()=>{Z?.()}),{get lockMap(){return U},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:e,cancelPendingCleanup:t,ensureInitialStyleCaptured:r}});class Un{#t=Rn();#e;#n=()=>null;#r;locked;constructor(t,e=()=>null){this.#e=t,this.#n=e,this.#r=Bn.get(),this.#r&&(this.#r.cancelPendingCleanup(),this.#r.ensureInitialStyleCaptured(),this.#r.lockMap.set(this.#t,this.#e??!1),this.locked=f(()=>this.#r.lockMap.get(this.#t)??!1,r=>this.#r.lockMap.set(this.#t,r)),L(()=>{if(this.#r.lockMap.delete(this.#t),Bt(this.#r.lockMap))return;const r=this.#n();this.#r.scheduleCleanupIfNoNewLocks(r,()=>{this.#r.resetBodyStyle()})}))}}function Bt(n){for(const[t,e]of n)if(e)return!0;return!1}function lr(n,t){C(t,!0);let e=p(t,"preventScroll",3,!0),r=p(t,"restoreScrollDelay",3,null);e()&&new Un(e(),()=>r()),I()}export{je as C,or as D,$n as E,ur as F,ir as O,rr as P,tr as S,cr as T,Xn as a,Gn as b,f as c,Qn as d,nr as e,ar as f,Jn as g,lr as h,sr as i,Ue as j,Yn as k,R as l,Zn as m,g as n,er as o,Ce as p,_e as q,Xe as r,tt as s,Rn as u,v as w};
